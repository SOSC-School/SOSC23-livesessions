name: My Pipeline

python_env: python_env.yaml
# or
# conda_env: my_env.yaml
# or
# docker_env:
#    image:  mlflow-docker-example

entry_points:
  train:
    parameters:
      n_epochs: int
      batch_size: int
    command: "mkdir -p output; papermill notebooks/Train.ipynb output/step1-out.ipynb -p n_epochs {n_epochs} --batch_size {batch_size}"
  evaluate:
    parameters:
      model_run_uri: str
    command: "mkdir -p output; papermill notebooks/Evaluate.ipynb output/step2-out.ipynb -p model_run_uri {model_run_uri}"
  main:
    parameters:
      n_epochs: int
      batch_size: int
    command: "python main.py --batch_size {batch_size} --n_epochs {n_epochs}"